POST http://localhost:8180/realms/kdg/protocol/openid-connect/token
Content-Type: application/x-www-form-urlencoded

client_id = kdg_client &
client_secret = A3waW71ITWeQWF1QLmo9p31PoznM3s9T &
username = kdg_admin &
password = kdg_admin &
grant_type = password &
scope = openid


//saving the access token
> {%
    client.global.set("access_token", response.body.access_token);
%}

###
POST http://localhost:8091/landside/api/v1/appointments
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "sellerId":"ddf45d07-948e-4cdc-b93e-4a02e9337415",
    "truckLicensePlate":"ABC123",
    "deliveredMaterialType":"PETCOKE",
    "date":"2024-10-23",
    "preferredHour":17
}

###
POST http://localhost:8091/landside/api/v1/requests/entrances
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "licensePlate":"ABC123",
    "materialType":"PETCOKE"
}

> {%
    client.global.set("appointmentId", response.body.appointmentId);
%}

###
POST http://localhost:8091/landside/api/v1/requests/weightingbridge_passages/entrances
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "appointmentId":{{appointmentId}},
  "weight":25
}
